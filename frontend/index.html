<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vocab Tutor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <!-- Sidebar: logo, nav, chat list -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo-section">
          <img src="logo.png" alt="Vocab Tutor Logo" class="logo" />
          <h2 class="app-title">Vocab Tutor</h2>
        </div>
        <button class="btn-theme-toggle" id="btnThemeToggle" title="Toggle dark/light mode">
          <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
          <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </div>
      <nav class="nav-menu">
        <button class="nav-item active" data-page="home" id="navHome">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          Home
        </button>
        <button class="nav-item" data-page="chats" id="navChats">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          History
        </button>
      </nav>
      <div class="chat-list" id="chatList" style="display:none;">
        <!-- Chats injected by JS -->
      </div>
      <div class="sidebar-footer">
        <span class="api-status" id="apiStatus">API: checking…</span>
      </div>
    </aside>

    <!-- Main area -->
    <main class="main">
      <!-- Home Page -->
      <div class="page" id="homePage">
        <div class="home-container">
          <header class="home-header">
            <h1>Welcome to Vocab Tutor</h1>
            <p>Master new vocabulary words with intelligent learning tools</p>
          </header>

          <div class="home-grid">
            <!-- Section 1: Ask Word Meaning -->
            <section class="home-card">
              <div class="card-header">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 4v16m8-8H4"/><circle cx="12" cy="12" r="10"/></svg>
                <h2>Ask Word Meaning</h2>
              </div>
              <p class="card-description">Get comprehensive information about any word including meaning, memory tricks, examples, synonyms, and antonyms.</p>
              <form class="card-form" id="wordForm">
                <input 
                  type="text" 
                  id="wordInput" 
                  placeholder="Enter a word to explore…" 
                  maxlength="200"
                />
                <button type="submit" class="btn-primary">Search</button>
              </form>
              <div class="word-result" id="wordResult" style="display:none;"></div>
            </section>

            <!-- Section 2: Daily Vocab -->
            <section class="home-card">
              <div class="card-header">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/><line x1="16" y1="1" x2="16" y2="5"/><line x1="8" y1="1" x2="8" y2="5"/><line x1="3" y1="9" x2="21" y2="9"/></svg>
                <h2>Top 5 Words to Learn Today</h2>
              </div>
              <p class="card-description">Explore the daily vocabulary list curated to help you improve your English skills.</p>
              <div class="daily-vocab-container" id="dailyVocabContainer">
                <div class="loading-spinner"></div>
                <p>Loading daily words...</p>
              </div>
            </section>
          </div>
        </div>
      </div>

      <!-- Chat/History Page -->
      <div class="page" id="chatsPage" style="display:none;">
        <div class="chats-container">
          <div class="chats-header">
            <h1>Chat History</h1>
            <button class="btn-new-chat" id="btnNewChat" title="New chat">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              New chat
            </button>
          </div>
          <div class="messages" id="messages">
            <div class="welcome" id="welcome">
              <h2>Start a new conversation</h2>
              <p>Select a chat from the sidebar or create a new one to get started.</p>
            </div>
          </div>
          <div class="input-area">
            <form class="input-form" id="inputForm">
              <textarea
                id="messageInput"
                rows="1"
                placeholder="Enter a word…"
                maxlength="200"
              ></textarea>
              <button type="submit" class="btn-send" id="btnSend" title="Send">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg>
              </button>
            </form>
          </div>
        </div>
      </div>
    </main>
  </div>
  <script src="app.js"></script>
</body>
</html>